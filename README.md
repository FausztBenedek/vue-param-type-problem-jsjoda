This project reproduces a type problem in one of my projects

Run to reproduce 

```
npm run type-check
```

There is a workaround on the `workaround` branch
